ROLLBACK;

DROP TABLE IF EXISTS order_items;
DROP TABLE IF EXISTS orders;
DROP TABLE IF EXISTS products;

CREATE TABLE products (
    id INT PRIMARY KEY,
    name VARCHAR(50),
    price INT
);

CREATE TABLE orders (
    order_id INT PRIMARY KEY,
    order_date DATE
);

CREATE TABLE order_items (
    order_item_id INT PRIMARY KEY,
    order_id INT,
    product_id INT,
    quantity INT,
    total_price INT,
    FOREIGN KEY (order_id) REFERENCES orders(order_id),
    FOREIGN KEY (product_id) REFERENCES products(id)
);


INSERT INTO products(id, name, price) VALUES
(101, 'пылесос', 25000),
(102, 'насос', 15000),
(103, 'бензонасос', 12500),
(104, 'фильтр воздушный', 3500),
(105, 'фильтр масляный', 2800),
(106, 'свеча зажигания', 1200),
(107, 'аккумулятор', 8500),
(108, 'шина летняя', 6500),
(109, 'шина зимняя', 7200),
(110, 'диск литой', 12500),
(111, 'тормозные колодки', 4200),
(112, 'амортизатор', 9800),
(113, 'фара передняя', 15300),
(114, 'стекло лобовое', 21800),
(115, 'зеркало боковое', 5400),
(116, 'ремень ГРМ', 3200),
(117, 'генератор', 14200),
(118, 'стартер', 11800),
(119, 'радиатор', 16700),
(120, 'компрессор кондиционера', 23400);


INSERT INTO orders(order_id, order_date) VALUES
(1, '2024-01-15'),
(2, '2024-02-03'),
(3, '2024-02-18'),
(4, '2024-03-05'),
(5, '2024-03-22'),
(6, '2024-04-10'),
(7, '2024-04-28'),
(8, '2024-05-12'),
(9, '2024-05-30'),
(10, '2024-06-14'),
(11, '2024-07-01'),
(12, '2024-07-19'),
(13, '2024-08-07'),
(14, '2024-08-25'),
(15, '2024-09-11');


INSERT INTO order_items(order_item_id, order_id, product_id, quantity, total_price) VALUES
(1001, 1, 101, 2, 50000),
(1002, 1, 105, 4, 11200),
(1003, 2, 107, 1, 8500),
(1004, 2, 108, 4, 26000),
(1005, 3, 102, 3, 45000),
(1006, 3, 106, 6, 7200),
(1007, 4, 110, 2, 25000),
(1008, 4, 111, 4, 16800),
(1009, 5, 103, 1, 12500),
(1010, 5, 112, 2, 19600),
(1011, 6, 114, 1, 21800),
(1012, 6, 115, 2, 10800),
(1013, 7, 116, 3, 9600),
(1014, 7, 117, 1, 14200),
(1015, 8, 118, 2, 23600),
(1016, 8, 119, 1, 16700),
(1017, 9, 120, 1, 23400),
(1018, 9, 104, 5, 17500),
(1019, 10, 109, 4, 28800),
(1020, 10, 113, 2, 30600),
(1021, 11, 101, 1, 25000),
(1022, 12, 107, 2, 17000),
(1023, 13, 108, 2, 13000),
(1024, 14, 112, 1, 9800),
(1025, 15, 118, 1, 11800);


